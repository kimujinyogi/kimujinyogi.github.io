---
title: "更新頻度を上げるためにCircleCIを導入しました"
date: 2021-06-09T18:29:08+09:00
description: GithubPage + Hugo + CircleCI
draft: false
hideToc: false
enableToc: true
enableTocContent: false
tocPosition: inner
tocLevels: ["h2", "h3", "h4"]
tags: ["雑談"]
series:
-
categories:
-
image:
---

## お久しぶりです

とても久しぶりに更新しようと思います

一応Deployテストはしているものの、
実際に記事を追加して反映されるのを確認したく
こうやって久しぶりにブログを書いております

## CircleCIを導入しました

### ツールの選択の理由
- 無料で使えるから
- 今の更新頻度だと、無料プランで絶対間に合うから
- 自分の中で一番認知度高いと思っているから
- めちゃくちゃ簡単だったから

ちなみに簡単だと思った一番の根拠は
https://t32k.me/mol/log/hugo-circleci-ghpages-2018/
こちらの記事を見かけたからです

感謝しかないです。

色々設定方法やスクリプトは自分が参考にしたページを確認ください

## 大まかな流れ

自分は公開用のbranchと編集用のbranchを分けています

編集用のブランチに記事を追加してpushすると
CircleCIの方でデプロイをするわけですが

1. 編集用のbranchの更新をトリガーにbuildが走る
2. 公開用のbranchに切り替えて、編集用のbranchを別ディレクトリーにcloneする
3. 別ディレクトリーでhugoを実行し、出力されたものをコピーする
4. 別ディレクトリーを削除
5. 公開用のbranchを更新

という流れにしてますね

2. のところがなんだか効率悪いのかな、とか、あまりcircle ciのjobを作った経験がなく
まあやりたきことは達成してしまったので、
そこをさらに改善するよりはもう少しブログを頻繁に書くようにしてみる予定です

## さらに改善したいこと
今は文字を書く分には何も困らないのですが
画像を添付するときに

1. 画像をpreview用と拡大用の２枚を用意する
2. リソースフォルダーにコピーする（このときフォルダ名を記憶する)
3. 2.でコピーしたファイルを記事内に書き込む

これがだいぶだるいんですよね・・・

今度これを簡単にできるような対策を立てて、
成功したらブログに書き込んでみます

では、また！
