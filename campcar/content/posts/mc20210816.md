---
title: "村人が品切れしてからずっと変わらない問題を治す"
date: 2021-08-16T00:12:00+09:00
description: 小さな村人交易場を作っているのですが中々新しい交易ができなかったので、原因調べと修正を行いました！交易場の仕組みも軽く解説
draft: false
hideToc: false
enableToc: true
enableTocContent: false
tocPosition: inner
tocLevels: ["h2", "h3", "h4"]
tags: ["マインクラフト"]
series: ["マインクラフト"]
categories: ["マインクラフト"]
image:
---
じにょぎです、こんにちは！

今回は以前作っていた村人交易場の問題点を修正しようと思います。

## 村人交易場とは

村人には職業というのがあり各職業によって
あるアイテムとエメラルドと交換したり
エメラルドとあるアイテムを交換したりできます。

職業は色々ありますし、
同じ職業でも交換できるアイテムが異なります。

一度交易すると交易できるアイテムが固定されますが、
良いアイテムを交換してくれる村人を
わかりやすく1つの場所から移動できないようにしています。
その場所を私は村人交易場と呼んでいます！

### 現在の問題点

![ずっと品切れ](/mcpe/20210816/01.jpeg)

この村人は修繕のエンチャント本を交換できるのですが、
一定数交易してから何日も時間が過ぎているのに中々交易できる状態になりませんでした。

## 品切れが続く理由は

調べてみると、
村人の品物が再入庫される条件がありました

私の交易場はその条件を満たしていませんでした。

### 取引が更新される条件

その条件とは

- 村人同士が取引をする
- 村人と紐付いている職業ブロックから在庫を補充する

2つありまして、
実は私は2つ目の条件を満たしているつもりでした。

### 改めて何が問題かを確認

![問題点](/mcpe/20210816/02.jpeg)

スクショを見ておわかりでしょうか・・・。

柵の外側の方がアイテムガチャ
(欲しい交易品が出るまで、職業を変え続けること)するために、
柵の外側に職業ブロックを配置していたのでした。


## 修正する

柵の中に職業ブロックを入れてあげることにします！

後々全部変えないと・・・。
というか、もっと広いところに作りたいと思います。

### 柵の中に職業ブロックを入れてあげる

![改装](/mcpe/20210816/03.jpeg)

職業ブロックを柵の中に入れると
早速在庫を手に入れたようでした

## 更なる問題が発覚

私は一度村人をゾンビにしてから治療させることで、
交易品を割引してる状態にしていました。

前回の襲撃イベントをクリアでも割引されたりしますね！

ですが、改装が終わって品物が再入庫されると・・・

![値上げしてる!!](/mcpe/20210816/04.jpeg)

**なんと値上げしてきてるのではありませんか！！**
私が修繕ばかり交易するから、
33子から64個に値上げして ~きやがって~ きました！びっくり！

おいおい・・・高すぎるだろ・・・。

**2倍は我慢できん！**

## 値上げしてくるので再度ゾンビ化させる

2倍はいくらなんでも酷すぎますね
それなら貴重な金のリンゴや弱体化ポーションを作る方が効率が良さそうです

### 現在の仕組みの説明

他の方も色々解説してるのであれですが、
今のところこれがストレスなく利用できるのでおすすめです！
軽く紹介します！

#### ボタン or レバーでゾンビを往復させる

名札をつけたゾンビーをトロッコに乗せて
村人のベットの下を通るようにレールを敷いておきます

そしてレットストーン信号を送るとゾンビーがレールを往復します

![いけ！ゾンビ！](/mcpe/20210816/01.gif)

![いけ！ゾンビ！2](/mcpe/20210816/02.gif)

![いけ！ゾンビ！3](/mcpe/20210816/03.gif)

このように半分だけ隙間があれば、
横にくっついてる対象には攻撃できます！
(gifなので攻撃されてることがわかりづらいかもですね)

#### レバーとピストンブロックで村人を降ろす

ベットのすぐ下にはゾンビが通るので、
そのゾンビに攻撃されるようにするために、 
ベットの足元にプストンブロックを上向けに設置しています

レバーを操作して地面を凹ませるようにしてゾンビに攻撃させます

![ピストンブロックの役割](/mcpe/20210816/04.gif)

ですが、上のgifでもわかるように、
中々村人がベットから降りてくれません。

#### ピストンブロックで無理やり落とす！

![落とす](/mcpe/20210816/05.jpeg)

ベットの頭の方にはピストンブロックを置いていて

![落とす2](/mcpe/20210816/06.jpeg)

裏側から村人を突き落とすことができます!

![ピストンブロックの役割](/mcpe/20210816/04.gif)

はい、これでレバーを操作すると村人がゾンビに攻撃されるようになります

### 村人化させるときに注意

- 難易度がハードモード出ない場合、一定確率で村人がゾンビの攻撃で死亡します
- ゾンビも、村人ゾンビも他の村人を攻撃してしまうので、動かないようにする対策が必要です


----

以上です！今回はちょっと内容が濃い気がしますね！

では、また！
